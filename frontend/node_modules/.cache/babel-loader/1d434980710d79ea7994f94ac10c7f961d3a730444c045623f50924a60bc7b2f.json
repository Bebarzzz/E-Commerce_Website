{"ast":null,"code":"import { API_ENDPOINTS, apiRequest } from '../config/api';\n\n/**\n * Order Service - Handles all order-related API calls\n */\n\n/**\n * Get all orders for the current user\n * @returns {Promise<Array>} Array of order objects\n */\nexport const getAllOrders = async () => {\n  try {\n    const orders = await apiRequest(API_ENDPOINTS.GET_ORDERS, {\n      method: 'GET'\n    });\n    return orders;\n  } catch (error) {\n    console.error('Error fetching orders:', error);\n    throw error;\n  }\n};\n\n/**\n * Create a new order\n * @param {Object} orderData - Order details\n * @param {Array} orderData.items - Array of cart items\n * @param {number} orderData.totalAmount - Total order amount\n * @param {Object} orderData.shippingAddress - Shipping address details\n * @returns {Promise<Object>} Created order object\n */\nexport const createOrder = async orderData => {\n  try {\n    const data = await apiRequest(API_ENDPOINTS.CREATE_ORDER, {\n      method: 'POST',\n      body: JSON.stringify(orderData)\n    });\n    return data;\n  } catch (error) {\n    console.error('Error creating order:', error);\n    throw error;\n  }\n};\n\n/**\n * Format cart items for order submission\n * @param {Object} cartItems - Cart items object\n * @param {Array} products - All products array\n * @returns {Array} Formatted order items\n */\nexport const formatCartForOrder = (cartItems, products) => {\n  const items = [];\n  for (const itemId in cartItems) {\n    if (cartItems[itemId] > 0) {\n      const product = products.find(p => p._id === itemId || p.id === Number(itemId));\n      if (product) {\n        items.push({\n          carId: product._id || product.id,\n          name: product.name || `${product.brand} ${product.model}`,\n          price: product.price || product.new_price,\n          quantity: cartItems[itemId],\n          image: product.image || product.images && product.images[0] || ''\n        });\n      }\n    }\n  }\n  return items;\n};\n\n/**\n * Calculate total order amount\n * @param {Object} cartItems - Cart items object\n * @param {Array} products - All products array\n * @returns {number} Total amount\n */\nexport const calculateOrderTotal = (cartItems, products) => {\n  let total = 0;\n  for (const itemId in cartItems) {\n    if (cartItems[itemId] > 0) {\n      const product = products.find(p => p._id === itemId || p.id === Number(itemId));\n      if (product) {\n        const price = product.price || product.new_price || 0;\n        total += price * cartItems[itemId];\n      }\n    }\n  }\n  return total;\n};","map":{"version":3,"names":["API_ENDPOINTS","apiRequest","getAllOrders","orders","GET_ORDERS","method","error","console","createOrder","orderData","data","CREATE_ORDER","body","JSON","stringify","formatCartForOrder","cartItems","products","items","itemId","product","find","p","_id","id","Number","push","carId","name","brand","model","price","new_price","quantity","image","images","calculateOrderTotal","total"],"sources":["C:/Users/ahmad/Downloads/E-Commerce_Website-main (3)/E-Commerce_Website-main/frontend/src/services/orderService.js"],"sourcesContent":["import { API_ENDPOINTS, apiRequest } from '../config/api';\n\n/**\n * Order Service - Handles all order-related API calls\n */\n\n/**\n * Get all orders for the current user\n * @returns {Promise<Array>} Array of order objects\n */\nexport const getAllOrders = async () => {\n  try {\n    const orders = await apiRequest(API_ENDPOINTS.GET_ORDERS, {\n      method: 'GET',\n    });\n    return orders;\n  } catch (error) {\n    console.error('Error fetching orders:', error);\n    throw error;\n  }\n};\n\n/**\n * Create a new order\n * @param {Object} orderData - Order details\n * @param {Array} orderData.items - Array of cart items\n * @param {number} orderData.totalAmount - Total order amount\n * @param {Object} orderData.shippingAddress - Shipping address details\n * @returns {Promise<Object>} Created order object\n */\nexport const createOrder = async (orderData) => {\n  try {\n    const data = await apiRequest(API_ENDPOINTS.CREATE_ORDER, {\n      method: 'POST',\n      body: JSON.stringify(orderData),\n    });\n    return data;\n  } catch (error) {\n    console.error('Error creating order:', error);\n    throw error;\n  }\n};\n\n/**\n * Format cart items for order submission\n * @param {Object} cartItems - Cart items object\n * @param {Array} products - All products array\n * @returns {Array} Formatted order items\n */\nexport const formatCartForOrder = (cartItems, products) => {\n  const items = [];\n  \n  for (const itemId in cartItems) {\n    if (cartItems[itemId] > 0) {\n      const product = products.find(p => p._id === itemId || p.id === Number(itemId));\n      if (product) {\n        items.push({\n          carId: product._id || product.id,\n          name: product.name || `${product.brand} ${product.model}`,\n          price: product.price || product.new_price,\n          quantity: cartItems[itemId],\n          image: product.image || (product.images && product.images[0]) || ''\n        });\n      }\n    }\n  }\n  \n  return items;\n};\n\n/**\n * Calculate total order amount\n * @param {Object} cartItems - Cart items object\n * @param {Array} products - All products array\n * @returns {number} Total amount\n */\nexport const calculateOrderTotal = (cartItems, products) => {\n  let total = 0;\n  \n  for (const itemId in cartItems) {\n    if (cartItems[itemId] > 0) {\n      const product = products.find(p => p._id === itemId || p.id === Number(itemId));\n      if (product) {\n        const price = product.price || product.new_price || 0;\n        total += price * cartItems[itemId];\n      }\n    }\n  }\n  \n  return total;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}