{"ast":null,"code":"import { API_ENDPOINTS, apiRequest } from '../config/api';\n\n/**\n * Car Service - Handles all car-related API calls\n */\n\n/**\n * Fetch all cars from the backend\n * @returns {Promise<Array>} Array of car objects\n */\nexport const getAllCars = async () => {\n  try {\n    const response = await fetch(API_ENDPOINTS.GET_CARS, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const cars = await response.json();\n    return cars;\n  } catch (error) {\n    console.error('Error fetching cars:', error);\n    throw error;\n  }\n};\n\n/**\n * Add a new car (Admin only)\n * @param {FormData} carData - Form data containing car details and images\n * @returns {Promise<Object>} Created car object\n */\nexport const addCar = async carData => {\n  try {\n    const token = localStorage.getItem('auth-token');\n    const response = await fetch(API_ENDPOINTS.ADD_CAR, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      body: carData // FormData for multipart/form-data\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || 'Failed to add car');\n    }\n    return data;\n  } catch (error) {\n    console.error('Error adding car:', error);\n    throw error;\n  }\n};\n\n/**\n * Remove a car (Admin only)\n * @param {string} carId - ID of the car to remove\n * @returns {Promise<Object>} Deletion result\n */\nexport const removeCar = async carId => {\n  try {\n    const data = await apiRequest(`${API_ENDPOINTS.REMOVE_CAR}/${carId}`, {\n      method: 'DELETE'\n    });\n    return data;\n  } catch (error) {\n    console.error('Error removing car:', error);\n    throw error;\n  }\n};\n\n/**\n * Filter cars by category\n * @param {Array} cars - Array of all cars\n * @param {string} category - Category to filter by ('new', 'used')\n * @returns {Array} Filtered cars\n */\nexport const filterCarsByCategory = (cars, category) => {\n  if (!category) return cars;\n  return cars.filter(car => car.condition === category);\n};\n\n/**\n * Get a single car by ID\n * @param {string} carId - ID of the car to fetch\n * @returns {Promise<Object>} Car object\n */\nexport const getCarById = async carId => {\n  try {\n    const response = await fetch(`${API_ENDPOINTS.GET_CARS}/${carId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const car = await response.json();\n    return car;\n  } catch (error) {\n    console.error('Error fetching car:', error);\n    throw error;\n  }\n};\n\n/**\n * Edit a car (Admin only)\n * @param {string} carId - ID of the car to edit\n * @param {FormData} carData - Form data containing updated car details and images\n * @returns {Promise<Object>} Updated car object\n */\nexport const editCar = async (carId, carData) => {\n  try {\n    const token = localStorage.getItem('auth-token');\n    const response = await fetch(`${API_ENDPOINTS.EDIT_CAR}/${carId}`, {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      body: carData // FormData for multipart/form-data\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.error || 'Failed to edit car');\n    }\n    return data;\n  } catch (error) {\n    console.error('Error editing car:', error);\n    throw error;\n  }\n};\n\n/**\n * Search cars using backend API\n * @param {string} query - Search query\n * @returns {Promise<Array>} Array of matching cars\n */\nexport const searchCarsAPI = async query => {\n  try {\n    const response = await fetch(`${API_ENDPOINTS.GET_CARS}/search?query=${encodeURIComponent(query)}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const cars = await response.json();\n    return cars;\n  } catch (error) {\n    console.error('Error searching cars:', error);\n    throw error;\n  }\n};\n\n/**\n * Search cars by keyword (client-side filtering)\n * @param {Array} cars - Array of all cars\n * @param {string} query - Search query\n * @returns {Array} Filtered cars\n */\nexport const searchCars = (cars, query) => {\n  if (!query) return cars;\n  const lowerQuery = query.toLowerCase();\n  return cars.filter(car => {\n    var _car$model, _car$brand, _car$type;\n    return ((_car$model = car.model) === null || _car$model === void 0 ? void 0 : _car$model.toLowerCase().includes(lowerQuery)) || ((_car$brand = car.brand) === null || _car$brand === void 0 ? void 0 : _car$brand.toLowerCase().includes(lowerQuery)) || ((_car$type = car.type) === null || _car$type === void 0 ? void 0 : _car$type.toLowerCase().includes(lowerQuery));\n  });\n};\n\n/**\n * Sort cars by price\n * @param {Array} cars - Array of cars to sort\n * @param {string} sortType - 'price-low' or 'price-high'\n * @returns {Array} Sorted cars\n */\nexport const sortCars = (cars, sortType) => {\n  const sorted = [...cars];\n  switch (sortType) {\n    case 'price-low':\n      return sorted.sort((a, b) => a.price - b.price);\n    case 'price-high':\n      return sorted.sort((a, b) => b.price - a.price);\n    default:\n      return sorted;\n  }\n};","map":{"version":3,"names":["API_ENDPOINTS","apiRequest","getAllCars","response","fetch","GET_CARS","method","headers","ok","Error","status","cars","json","error","console","addCar","carData","token","localStorage","getItem","ADD_CAR","body","data","removeCar","carId","REMOVE_CAR","filterCarsByCategory","category","filter","car","condition","getCarById","editCar","EDIT_CAR","searchCarsAPI","query","encodeURIComponent","searchCars","lowerQuery","toLowerCase","_car$model","_car$brand","_car$type","model","includes","brand","type","sortCars","sortType","sorted","sort","a","b","price"],"sources":["C:/Users/ahmad/Downloads/E-Commerce_Website-main (3)/E-Commerce_Website-main/frontend/src/services/carService.js"],"sourcesContent":["import { API_ENDPOINTS, apiRequest } from '../config/api';\n\n/**\n * Car Service - Handles all car-related API calls\n */\n\n/**\n * Fetch all cars from the backend\n * @returns {Promise<Array>} Array of car objects\n */\nexport const getAllCars = async () => {\n  try {\n    const response = await fetch(API_ENDPOINTS.GET_CARS, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const cars = await response.json();\n    return cars;\n  } catch (error) {\n    console.error('Error fetching cars:', error);\n    throw error;\n  }\n};\n\n/**\n * Add a new car (Admin only)\n * @param {FormData} carData - Form data containing car details and images\n * @returns {Promise<Object>} Created car object\n */\nexport const addCar = async (carData) => {\n  try {\n    const token = localStorage.getItem('auth-token');\n\n    const response = await fetch(API_ENDPOINTS.ADD_CAR, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      body: carData, // FormData for multipart/form-data\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || 'Failed to add car');\n    }\n\n    return data;\n  } catch (error) {\n    console.error('Error adding car:', error);\n    throw error;\n  }\n};\n\n/**\n * Remove a car (Admin only)\n * @param {string} carId - ID of the car to remove\n * @returns {Promise<Object>} Deletion result\n */\nexport const removeCar = async (carId) => {\n  try {\n    const data = await apiRequest(`${API_ENDPOINTS.REMOVE_CAR}/${carId}`, {\n      method: 'DELETE',\n    });\n    return data;\n  } catch (error) {\n    console.error('Error removing car:', error);\n    throw error;\n  }\n};\n\n/**\n * Filter cars by category\n * @param {Array} cars - Array of all cars\n * @param {string} category - Category to filter by ('new', 'used')\n * @returns {Array} Filtered cars\n */\nexport const filterCarsByCategory = (cars, category) => {\n  if (!category) return cars;\n  return cars.filter(car => car.condition === category);\n};\n\n/**\n * Get a single car by ID\n * @param {string} carId - ID of the car to fetch\n * @returns {Promise<Object>} Car object\n */\nexport const getCarById = async (carId) => {\n  try {\n    const response = await fetch(`${API_ENDPOINTS.GET_CARS}/${carId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const car = await response.json();\n    return car;\n  } catch (error) {\n    console.error('Error fetching car:', error);\n    throw error;\n  }\n};\n\n/**\n * Edit a car (Admin only)\n * @param {string} carId - ID of the car to edit\n * @param {FormData} carData - Form data containing updated car details and images\n * @returns {Promise<Object>} Updated car object\n */\nexport const editCar = async (carId, carData) => {\n  try {\n    const token = localStorage.getItem('auth-token');\n\n    const response = await fetch(`${API_ENDPOINTS.EDIT_CAR}/${carId}`, {\n      method: 'PATCH',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n      body: carData, // FormData for multipart/form-data\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      throw new Error(data.error || 'Failed to edit car');\n    }\n\n    return data;\n  } catch (error) {\n    console.error('Error editing car:', error);\n    throw error;\n  }\n};\n\n/**\n * Search cars using backend API\n * @param {string} query - Search query\n * @returns {Promise<Array>} Array of matching cars\n */\nexport const searchCarsAPI = async (query) => {\n  try {\n    const response = await fetch(`${API_ENDPOINTS.GET_CARS}/search?query=${encodeURIComponent(query)}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const cars = await response.json();\n    return cars;\n  } catch (error) {\n    console.error('Error searching cars:', error);\n    throw error;\n  }\n};\n\n/**\n * Search cars by keyword (client-side filtering)\n * @param {Array} cars - Array of all cars\n * @param {string} query - Search query\n * @returns {Array} Filtered cars\n */\nexport const searchCars = (cars, query) => {\n  if (!query) return cars;\n  const lowerQuery = query.toLowerCase();\n  return cars.filter(car =>\n    car.model?.toLowerCase().includes(lowerQuery) ||\n    car.brand?.toLowerCase().includes(lowerQuery) ||\n    car.type?.toLowerCase().includes(lowerQuery)\n  );\n};\n\n/**\n * Sort cars by price\n * @param {Array} cars - Array of cars to sort\n * @param {string} sortType - 'price-low' or 'price-high'\n * @returns {Array} Sorted cars\n */\nexport const sortCars = (cars, sortType) => {\n  const sorted = [...cars];\n\n  switch (sortType) {\n    case 'price-low':\n      return sorted.sort((a, b) => a.price - b.price);\n    case 'price-high':\n      return sorted.sort((a, b) => b.price - a.price);\n    default:\n      return sorted;\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}